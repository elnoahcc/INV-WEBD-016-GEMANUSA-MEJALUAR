<nav class="fixed top-0 left-0 w-full z-30 flex justify-between items-center py-3 px-6">
  <!-- Menu Tengah -->
  <div class="bg-[#26283F] text-white px-6 py-2 rounded-full flex items-center space-x-8 shadow-md mx-auto">
    <a href="#hero" class="relative text-xs pb-1 after:content-[''] after:absolute after:left-0 after:bottom-0 
       after:w-0 after:h-[1px] after:bg-white after:transition-all after:duration-300 hover:after:w-full">
      Beranda
    </a>
    <a href="#program" class="relative text-xs pb-1 after:content-[''] after:absolute after:left-0 after:bottom-0 
       after:w-0 after:h-[1px] after:bg-white after:transition-all after:duration-300 hover:after:w-full">
      Program
    </a>

    <!-- Logo Tengah -->
    <img src="/assets/img/logo/Logo-Dark-Solid.svg" alt="Logo" class="h-6 w-auto">

    <a href="#volunteer" class="relative text-xs pb-1 after:content-[''] after:absolute after:left-0 after:bottom-0 
       after:w-0 after:h-[1px] after:bg-white after:transition-all after:duration-300 hover:after:w-full">
      Nula AI
    </a>
    <a href="#contact" class="relative text-xs pb-1 after:content-[''] after:absolute after:left-0 after:bottom-0 
       after:w-0 after:h-[1px] after:bg-white after:transition-all after:duration-300 hover:after:w-full">
      Contact
    </a>
  </div>

  <!-- Ikon Profil dengan Card Lingkar -->
  <div class="ml-4">
    <a href="#" 
       class="w-10 h-10 flex items-center justify-center rounded-full shadow-md bg-white hover:bg-gray-200 transition-colors duration-300">
      <i id="profileIcon" class="fa-regular fa-user text-lg text-black transition-colors duration-300"></i>
    </a>
  </div>
</nav>

<script>
function updateIconColor() {
  const navbar = document.querySelector('nav');
  const icon = document.getElementById('profileIcon');
  const wrapper = icon.parentElement; // lingkaran pembungkus
  
  const navbarRect = navbar.getBoundingClientRect();
  const navbarBottom = navbarRect.bottom;
  const elementBelow = document.elementFromPoint(window.innerWidth / 2, navbarBottom + 10);
  
  if (elementBelow) {
    const computedStyle = window.getComputedStyle(elementBelow);
    const backgroundColor = computedStyle.backgroundColor;
    
    function getBrightness(rgb) {
      const match = rgb.match(/\d+/g);
      if (match && match.length >= 3) {
        const r = parseInt(match[0]);
        const g = parseInt(match[1]);
        const b = parseInt(match[2]);
        return (r * 299 + g * 587 + b * 114) / 1000;
      }
      return 255;
    }
    
    const brightness = getBrightness(backgroundColor);
    
    if (brightness < 128) {
      icon.className = 'fa-regular fa-user text-lg text-white transition-colors duration-300';
      wrapper.classList.add("bg-[#26283F]");
      wrapper.classList.remove("bg-white");
    } else {
      icon.className = 'fa-regular fa-user text-lg text-black transition-colors duration-300';
      wrapper.classList.add("bg-white");
      wrapper.classList.remove("bg-[#26283F]");
    }
  }
}

document.addEventListener('DOMContentLoaded', updateIconColor);
window.addEventListener('scroll', updateIconColor);
window.addEventListener('resize', updateIconColor);
</script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
